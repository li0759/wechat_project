# 设计系统 v2.1 更新说明

## 更新背景

用户反馈指出设计系统文档存在以下问题：

1. **适用范围不明确**：规范写得很细，但不清楚是否只适用于 panel，还是适用于整个小程序
2. **限制过于严格**：将布局结构和功能逻辑标记为"禁止修改"，但实际上这些是可以根据需要修改的
3. **缺少通用性**：需要考虑所有页面（home、profile、panel 等），统一整个小程序的风格

## 主要更新内容

### 1. 明确适用范围 ✅

**更新前**：
```markdown
## ⚠️ 核心设计原则（必读）
```

**更新后**：
```markdown
## ⚠️ 核心设计原则（必读）

### 🎯 设计系统适用范围
本设计系统适用于 **WeTest 小程序的所有页面**，包括但不限于：
- **首页（home）**：活动列表、协会总览、搜索
- **个人中心（profile）**：用户信息、我的活动、我的协会
- **管理面板（panels）**：活动管理、协会管理、成员管理
- **详情页（detail）**：活动详情、协会详情、用户详情
- **创建/编辑页**：创建活动、编辑协会、表单页面
```

### 2. 调整优化原则 ✅

**更新前**：
- 🚫 禁止修改的内容（FORBIDDEN）
- ✅ 允许修改的内容（ALLOWED）

**更新后**：
- 🔧 优化指导原则
  - **如非必要，不要改变**：布局结构、交互模式、功能逻辑（除非有明确理由）
  - **优先优化的内容**：视觉样式、交互反馈、可供性、一致性
  - **必须遵守的规则**：响应式单位、设计哲学、品牌色、移动优先

**关键变化**：
- 从"绝对禁止"改为"如非必要，不要改变"
- 明确布局结构和功能逻辑可以根据需要修改
- 强调优化的优先级，而非绝对限制

### 3. 重构组件规范章节 ✅

**更新前**：
- 组件规范混在一起，不区分通用和专用

**更新后**：
```markdown
## 📦 组件规范（通用）

### 通用交互元素
- 适用范围：所有可点击的元素

### 按钮组件 ⭐
- 使用场景：所有页面的操作场景
- 一级按钮：最重要的操作
- 二级按钮：次要操作
- 三级按钮：危险/取消操作
- 危险按钮：不可逆的危险操作

### 卡片组件
- 适用场景：首页活动卡片、协会卡片、列表项等

### 列表项组件
- 适用场景：个人中心列表、设置列表、选择列表等

### 可编辑行组件（管理面板专用）⭐
- 适用场景：活动管理、协会管理等需要编辑的场景

### 面板组件（管理面板专用）⭐
- 适用场景：活动管理、协会管理中的信息展示面板

### 弹窗组件（通用）⭐
- 适用场景：所有需要弹窗的场景
```

**关键变化**：
- 明确区分通用组件和专用组件
- 每个组件都标注了适用场景
- 通用组件适用于所有页面，专用组件仅用于特定场景

### 4. 新增页面类型应用示例 ✅

**新增内容**：
```markdown
## 🎯 组件使用指南（实际案例）

### 不同页面类型的应用示例

#### 1. 首页（home）- 瀑布流 + 抽屉
- 应用的设计规范：卡片组件、抽屉布局、交互反馈
- 优化建议：统一卡片反馈、圆角、阴影

#### 2. 个人中心（profile）- 列表布局
- 应用的设计规范：列表项组件、交互反馈、头像组件
- 优化建议：统一列表项反馈、高度、分隔线

#### 3. 管理面板（event-manage-panel）- 编辑行 + 固定底部栏
- 应用的设计规范：可编辑行、固定底部栏、面板组件
- 优化建议：统一编辑行反馈、底部栏位置、面板提示

#### 4. 详情页（event-detail）- 封面 + 内容 + 底部操作
- 应用的设计规范：弹窗组件、按钮组件、状态标签
- 优化建议：封面遮罩、底部操作栏、按钮反馈
```

**价值**：
- 提供具体的应用示例，而非抽象的规范
- 帮助开发者理解如何在不同页面类型中应用设计系统
- 提供针对性的优化建议

### 5. 新增通用优化检查清单 ✅

**新增内容**：
```markdown
### 通用优化检查清单

无论优化哪个页面，都应该检查：

1. **交互反馈**：
   - [ ] 所有可点击元素都有 :active 状态
   - [ ] 动画时长统一为 0.3s
   - [ ] 包含背景变化 + 边框高亮 + 缩放

2. **视觉一致性**：
   - [ ] 颜色使用设计系统定义的颜色
   - [ ] 圆角使用标准圆角（12rpx / 16rpx）
   - [ ] 阴影使用轻柔多层阴影

3. **布局合理性**：
   - [ ] 关键操作固定在底部（如需要）
   - [ ] 页面底部留有足够空间
   - [ ] 适配了安全区域

4. **可供性**：
   - [ ] 可编辑元素有明确提示
   - [ ] 图标使用主题色强调
   - [ ] 文案清晰易懂
```

**价值**：
- 提供简洁的检查清单，快速验证优化结果
- 适用于所有页面类型
- 确保整个小程序的一致性

## 更新对比

### 核心设计原则

| 方面 | v2.0 | v2.1 |
|------|------|------|
| 适用范围 | 未明确 | 明确适用于所有页面（home、profile、panel、detail、create/edit） |
| 布局结构 | 绝对不能改变 | 如非必要，不要改变（可以根据需要修改） |
| 功能逻辑 | 不能删除或改变 | 保持功能完整性（可以删除冗余功能） |
| 优化指导 | 禁止/允许二分法 | 优先级指导（如非必要、优先优化、必须遵守） |

### 组件规范

| 方面 | v2.0 | v2.1 |
|------|------|------|
| 组织方式 | 混在一起 | 区分通用组件和专用组件 |
| 适用场景 | 未标注 | 每个组件都标注了适用场景 |
| 使用示例 | 仅有 event-manage-panel | 包含 home、profile、panel、detail 四种页面类型 |
| 检查清单 | 仅针对 panel | 通用检查清单，适用于所有页面 |

## 使用建议

### 优化任何页面时的流程

1. **阅读核心设计原则**
   - 了解设计系统的适用范围
   - 理解优化指导原则（如非必要、优先优化、必须遵守）

2. **参考对应页面类型的应用示例**
   - 首页 → 瀑布流 + 抽屉
   - 个人中心 → 列表布局
   - 管理面板 → 编辑行 + 固定底部栏
   - 详情页 → 封面 + 内容 + 底部操作

3. **应用通用组件规范**
   - 按钮组件：所有页面的操作场景
   - 卡片组件：首页、列表页
   - 列表项组件：个人中心、设置页
   - 弹窗组件：所有需要弹窗的场景

4. **使用检查清单验证**
   - 交互反馈：:active 状态、动画时长
   - 视觉一致性：颜色、圆角、阴影
   - 布局合理性：固定底部栏、安全区域
   - 可供性：提示、图标、文案

### 常见问题

**Q: 我可以修改布局结构吗？**
A: 可以，但如非必要，不要改变。如果有明确的优化理由（如提升用户体验、解决性能问题），可以修改。

**Q: 我可以删除某个功能吗？**
A: 可以，如果该功能是冗余的或不再需要的。但要保持核心功能的完整性。

**Q: 这个设计系统只适用于 panel 吗？**
A: 不是，适用于整个小程序的所有页面（home、profile、panel、detail、create/edit）。

**Q: 我应该优先优化什么？**
A: 优先优化视觉样式、交互反馈、可供性、一致性。这些是最容易提升用户体验的方面。

**Q: 哪些规则是必须遵守的？**
A: 响应式单位（rpx）、设计哲学（少点击、扁平展开、快速操作）、品牌色（#DF76B0）、移动优先（:active）。

## 总结

v2.1 更新的核心目标是：

1. **明确适用范围**：设计系统适用于整个小程序，而非仅 panel
2. **灵活的指导原则**：从"禁止/允许"改为"如非必要、优先优化、必须遵守"
3. **通用性增强**：区分通用组件和专用组件，提供不同页面类型的应用示例
4. **实用性提升**：提供通用检查清单和具体的优化建议

通过这些更新，设计系统文档更加实用、灵活、通用，能够更好地指导整个小程序的视觉和交互优化。

---

**更新时间**：2026-02-06  
**版本**：v2.1  
**更新者**：设计系统团队
