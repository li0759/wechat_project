# 数据统计展示页面 (Show Data)

## 概述
数据统计展示页面是一个综合性的数据可视化页面，支持展示用户数据和活动数据的统计信息。页面集成了多种图表组件和数据导出功能。

## 功能特性

### 🎯 核心功能
- **双模式展示**: 支持用户数据统计和活动数据统计两种模式
- **实时数据**: 调用后端 API 获取最新统计数据
- **可视化图表**: 集成饼图和柱状图组件展示数据
- **统计卡片**: 关键指标的卡片式展示
- **数据导出**: 支持 Excel 格式数据导出
- **响应式设计**: 适配各种屏幕尺寸

### 📊 数据展示
#### 用户数据统计模式
- 协会会员分布饼图
- 协会管理员数量柱状图
- 统计卡片：总协会数、总会员数、平均会员数、新增会员
- 详细数据表格：协会名称、总人数、性别分布、管理员数量、新会员数

#### 活动数据统计模式
- 各协会活动分布饼图
- 活动签到排行柱状图
- 统计卡片：总活动数、总参与人数、平均参与度、签到率
- 详细数据表格：活动名称、协会、地点、报名数、签到数、签到率

### 🎨 UI 特性
- **渐变背景**: 美观的渐变色背景设计
- **卡片式布局**: 现代化的卡片设计风格
- **动画效果**: 页面元素的进场动画
- **悬浮按钮**: 快速刷新的悬浮操作按钮
- **深色模式**: 支持系统深色模式

## 页面结构

### 1. 页面头部
- 动态标题显示（用户数据统计/活动数据统计）
- 数据类型切换按钮
- 页面状态指示

### 2. 统计卡片网格
- 2x2 网格布局展示关键指标
- 数值动画效果
- 趋势指示器

### 3. 图表展示区域
- 饼图：展示数据分布情况
- 柱状图：展示数据对比情况
- 图表支持点击交互

### 4. 详细数据表格
- 可滚动的数据表格
- 根据数据类型动态切换表头和内容
- 签到率等计算字段的实时计算

### 5. 操作按钮区域
- 数据导出功能
- 手动刷新功能

## API 接口

### 统计摘要接口
```
GET /api/v1/statistics/summary
```

### 用户统计数据接口
```
GET /api/v1/statistics/show/user
```

### 活动统计数据接口
```
GET /api/v1/statistics/show/event
```

### 数据导出接口
```
GET /api/v1/statistics/export/{type}
```

## 使用方法

### 从个人中心跳转
```javascript
// 跳转到用户数据统计
navigateToUserDataDisplay() {
  wx.navigateTo({
    url: '/packageProfile/show_data/index?type=user'
  });
}

// 跳转到活动数据统计  
navigateToEventDataDisplay() {
  wx.navigateTo({
    url: '/packageProfile/show_data/index?type=event'
  });
}
```

### 页面参数
- `type`: 数据类型，可选值为 `user` 或 `event`

## 依赖组件

### 自定义组件
- `stat-card`: 统计卡片组件
- `pie-chart`: 饼图组件
- `bar-chart`: 柱状图组件

### Vant 组件
- `van-button`: 按钮组件
- `van-icon`: 图标组件
- `van-loading`: 加载组件
- `van-empty`: 空状态组件

## 错误处理

### API 请求失败
- 自动切换到模拟数据模式
- 显示友好的错误提示
- 提供重新加载功能

### 数据为空
- 显示空状态页面
- 引导用户进行相关操作

## 性能优化

### 数据加载
- 并行加载统计摘要和详细数据
- 合理的加载状态提示
- 错误重试机制

### 图表渲染
- 按需渲染图表组件
- 动画效果的性能优化
- Canvas 绘制优化

## 兼容性

- 微信小程序基础库 2.9.0+
- 支持所有主流设备
- 自适应屏幕尺寸
- 支持深色模式

## 更新日志

### v1.0.0 (2024-01-15)
- 初始版本发布
- 支持用户和活动数据统计
- 集成图表组件
- 支持数据导出功能
- 实现响应式设计 