<!--pages/profile/applications/index.wxml-->
<view class="container">
  <view class="page-header">
    <view class="title">我的入团申请</view>
    <view class="subtitle">共 {{applications.length}} 条申请记录</view>
  </view>
  
  <view class="loading-container" wx:if="{{loading}}">
    <view class="spinner">
      <image src="/assets/images/loading.gif" mode="aspectFit" style="width: 70rpx; height: 70rpx;"></image>
    </view>
    <view class="loading-text">加载中...</view>
  </view>
  
  <view class="empty-container" wx:elif="{{applications.length === 0}}">
    <image class="empty-image" src="/assets/images/empty.png" mode="aspectFit"></image>
    <view class="empty-text">暂无入团申请记录</view>
    <button type="primary" size="mini" bindtap="goToHome">去浏览社团</button>
  </view>
  
  <view class="application-list" wx:else>
    <block wx:for="{{applications}}" wx:key="id">
      <view class="application-item">
        <view class="application-card" bindtap="goToClubDetail" data-clubid="{{item.clubId}}">
          <view class="application-header">
            <view class="club-name">{{item.clubName}}</view>
            <view class="application-status {{getStatusClass(item.status)}}">
              {{getStatusText(item.status)}}
            </view>
          </view>
          
          <view class="application-info">
            <view class="info-row">
              <view class="info-label">申请时间</view>
              <view class="info-value">{{item.applyTime}}</view>
            </view>
            
            <view class="info-row" wx:if="{{item.processTime}}">
              <view class="info-label">处理时间</view>
              <view class="info-value">{{item.processTime}}</view>
            </view>
            
            <view class="info-row" wx:if="{{item.status === 'rejected' && item.rejectReason}}">
              <view class="info-label">拒绝原因</view>
              <view class="info-value">{{item.rejectReason}}</view>
            </view>
          </view>
        </view>
      </view>
    </block>
  </view>
</view> 