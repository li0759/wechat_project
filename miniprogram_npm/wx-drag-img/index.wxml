<view style="width: {{containerRes.width}}px; height: {{containerRes.height}}px;" class="drag-container">
  <view
    wx:for="{{dragImgList}}"
    wx:key="id"
    style="transform: translate({{index === currentIndex ? tranX : item.tranX}}px, {{index === currentIndex ? tranY : item.tranY}}px); z-index: {{index === currentIndex ? 10 : 1}}; width: {{previewSize}}px; height: {{previewSize}}px;"
    class="drag-item {{index === currentIndex ? '' : 'drag-item-transition'}}"
    mark:index="{{index}}"
    mark:key="{{item.key}}"
    catch:longpress="longPress"
    catch:touchmove="touchMove"
    catch:touchend="touchEnd"
  >
    <image class="drag-item-img" src="{{item.src}}" mode="aspectFill"/>
    <view class="drag-item-loading" wx:if="{{item.loading}}">
      <van-loading type="spinner" color="#fff" size="24px" />
    </view>
    <view catch:tap="deleteImg" mark:key="{{item.key}}" class="drag-item-delete">
      <view class="drag-item-delete_default" style="{{deleteStyle}}">×</view>
    </view>
    <view class="drag-item-label {{item.label.includes('封面') ? 'drag-item-label-cover' : ''}} {{item.label.includes('新增') ? 'drag-item-label-new' : 'drag-item-label-existing'}}" wx:if="{{item.label}}">
      {{item.label}}
    </view>
  </view>
  <view
    bindtap="uploadImage"
    class="drag-item drag-upload"
    hidden="{{dragImgList.length >= maxCount}}"
    style="transform: translate({{uploadPosition.tranX}}px, {{uploadPosition.tranY}}px); width: {{previewSize}}px; height: {{previewSize}}px;"
  >
    <view class="drag-upload_slot" wx:if="{{slots.upload}}">
      <slot name="upload"></slot>
    </view>
    <view class="drag-upload_default" wx:else>
      <text>+</text>
    </view>
  </view>
</view>