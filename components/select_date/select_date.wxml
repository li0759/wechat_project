<view class="select-date-container {{customClass}}">
  <!-- 显示区域 -->
  <view class="selected-display {{disabled ? 'disabled' : ''}}" bindtap="onDisplay">
    <text class="display-text {{displayText === '请选择' ? 'placeholder' : ''}} {{disabled ? 'disabled' : ''}}">
      {{displayText}}
    </text>
    <van-icon name="arrow" size="16" color="{{disabled ? '#c8c9cc' : '#969799'}}" class="arrow-icon {{disabled ? 'disabled' : ''}}" />
  </view>

  <!-- 弹窗 -->
  <van-popup 
    show="{{show}}" 
    position="bottom" 
    round
    close-on-click-overlay="{{false}}"
    z-index="2000"
  >
    <view class="select-date-popup">
      <!-- 标题栏 -->
      <view class="popup-header">
        <text class="popup-title">{{title}}</text>
        <van-icon name="cross" bind:click="onClose" color="#666" />
      </view>
      
      <!-- 日期选择区域 -->
      <view class="dates-container">
        <view class="dates-grid">
          <view 
            wx:for="{{dateList}}" 
            wx:for-item="item"
            wx:key="*this"
            class="select-date-item {{selectedMap[item] ? 'selected' : ''}}"
            data-date="{{item}}"
            bindtap="onDateTap"
          >
            <text class="date-text">{{item}}日</text>
          </view>
        </view>
      </view>

      <!-- 底部按钮 -->
      <view class="popup-footer">
        <van-button 
          type="default" 
          size="large" 
          custom-class="cancel-btn"
          bind:click="onClose"
        >
          取消
        </van-button>
        <van-button 
          type="primary" 
          size="large" 
          custom-class="confirm-btn"
          bind:click="onConfirm"
          color="#ff6b9d"
        >
          确认
        </van-button>
      </view>
    </view>
  </van-popup>
</view> 